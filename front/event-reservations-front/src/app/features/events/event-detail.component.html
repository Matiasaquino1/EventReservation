<section class="detail-wrapper">

  @if (eventSignal(); as ev) {
    <div class="detail">
      <div class="detail-header">
        <h1>{{ ev.title }}</h1>
        <span class="badge" [class.sold-out]="ev.ticketsAvailable === 0">
          {{ ev.ticketsAvailable === 0 ? 'Agotado' : 'Disponible' }}
        </span>
      </div>

      <div class="detail-meta">
        <p class="date">ğŸ“… {{ ev.eventDate | date:'fullDate' }}</p>
        <p class="location">ğŸ“ {{ ev.location }}</p>
      </div>

      <p class="description">
        {{ ev.description || 'Este evento aÃºn no tiene descripciÃ³n.' }}
      </p>

      <div class="detail-info">
        <p class="price">ğŸ’² {{ ev.price | number:'1.0-0' }}</p>
        <p class="tickets">ğŸŸï¸ Disponibles: {{ ev.ticketsAvailable }}</p>
      </div>

      <div class="detail-actions">
        <a routerLink="/" class="back">
          â† Volver a eventos
        </a>

        @if (ev.ticketsAvailable > 0) {
          <a class="reserve" [routerLink]="['/reservations/create', ev.eventId]">
            Reservar ahora
          </a>
        }
      </div>
    </div>
  } @else if (eventSignal() === undefined) {
    <p class="loading">Cargando evento...</p>
  } @else {
    <div class="error-container">
      <p> No se pudo encontrar el evento solicitado.</p>
      <a routerLink="/" class="back">Volver al listado</a>
    </div>
  }

</section>
